#### [504. ä¸ƒè¿›åˆ¶æ•°](https://leetcode-cn.com/problems/base-7/)

```java
// èœé¸Ÿå†™æ³•
public String convertToBase7(int num) {
    if (num == 0) {
        return "0";
    }
    StringBuilder sb = new StringBuilder();
    String symbol = (num & (1 << 31)) == 0 ? "" : "-";
    while (num != 0) {
        sb.append(Math.abs(num % 7));
        num /= 7;
    }
    sb.append(symbol);
    return sb.reverse().toString();
}
```

##### jdkæºç è§£è¯»

```java
/**
 * åŸºæ•°æ•°å­—å­—å…¸
 */
final static char[] digits = {
        '0', '1', '2', '3', '4', '5',
        '6', '7', '8', '9', 'a', 'b',
        'c', 'd', 'e', 'f', 'g', 'h',
        'i', 'j', 'k', 'l', 'm', 'n',
        'o', 'p', 'q', 'r', 's', 't',
        'u', 'v', 'w', 'x', 'y', 'z'
};

/**
 * è¿”å›ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„åŸºæ•°ä¸­ç¬¬ä¸€ä¸ªå‚æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚
 * <p>
 * <p>
 * å¦‚æœåŸºæ•°å°äºCharacter.MIN_RADIXæˆ–å¤§äºCharacter.MAX_RADIX ï¼Œåˆ™ä½¿ç”¨åŸºæ•°10 ã€‚
 * <p>
 * <p>
 * å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè´Ÿï¼Œåˆ™ç»“æœçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ ASCII å‡å·å­—ç¬¦'-' ( '\u002D' )ã€‚ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯è´Ÿ
 * æ•°ï¼Œåˆ™ç»“æœä¸­ä¸ä¼šå‡ºç°ç¬¦å·å­—ç¬¦ã€‚
 * <p>
 * <p>
 * ç»“æœçš„å…¶ä½™å­—ç¬¦è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°çš„å¤§å°ã€‚ å¦‚æœå¹…åº¦ä¸ºé›¶ï¼Œåˆ™ç”±å•ä¸ªé›¶å­—ç¬¦'0' ( '\u0030' ) è¡¨ç¤ºï¼› å¦åˆ™ï¼Œå¹…
 * åº¦è¡¨ç¤ºçš„ç¬¬ä¸€ä¸ªå­—ç¬¦å°†ä¸æ˜¯é›¶å­—ç¬¦ã€‚ ä»¥ä¸‹ ASCII å­—ç¬¦ç”¨ä½œæ•°å­—ï¼š
 * <p>
 * 0123456789abcdefghijklmnopqrstuvwxyz
 * <p>
 * å®ƒä»¬æ˜¯'\u0030'åˆ°'\u0039'å’Œ'\u0061'åˆ°'\u007A' ã€‚ å¦‚æœradixä¸ºN ï¼Œåˆ™è¿™äº›å­—ç¬¦çš„å‰N ä¸ªå°†æŒ‰æ‰€ç¤ºé¡ºåº
 * ç”¨ä½œåŸºæ•°-Næ•°å­—ã€‚ å› æ­¤ï¼Œåå…­è¿›åˆ¶ï¼ˆåŸºæ•° 16ï¼‰çš„æ•°å­—æ˜¯0123456789abcdef ã€‚ å¦‚æœéœ€è¦å¤§å†™å­—æ¯ï¼Œå¯ä»¥å¯¹ç»“æœ
 * è°ƒç”¨String.toUpperCase()æ–¹æ³•ï¼š
 * <p>
 * Integer.toString(n, 16).toUpperCase()
 *
 * @param i     è¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ•´æ•°ã€‚
 * @param radix åœ¨å­—ç¬¦ä¸²è¡¨ç¤ºä¸­ä½¿ç”¨çš„åŸºæ•°ã€‚
 * @return æŒ‡å®šåŸºæ•°ä¸­å‚æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚
 * @see java.lang.Character#MAX_RADIX
 * @see java.lang.Character#MIN_RADIX
 */
public static String toString(int i, int radix) {
    // åªå¯ä»¥è½¬æ¢2~36è¿›åˆ¶
    if (radix < Character.MIN_RADIX || radix > Character.MAX_RADIX)
        radix = 10;

    /* åŸºæ•°ä¸º10ç›´æ¥è°ƒç”¨toString */
    if (radix == 10) {
        return toString(i);
    }

    // ä¸€ä¸ª10è¿›åˆ¶æ•´æ•°è½¬æ¢ä¸º2è¿›åˆ¶æœ€å¤š32ä½ï¼Œå†åŠ ä¸€ä½ç¬¦å·ä½æœ€å¤šæ˜¯33ä½
    char buf[] = new char[33];
    /* æ­£è´Ÿå·æ ‡ç¤ºä½ */
    boolean negative = (i < 0);
    int charPos = 32;

    // ç›®æ ‡æ•°è½¬ä¸ºè´Ÿæ•°
    // ä¹‹æ‰€ä»¥è¦è½¬æ¢æˆ‘çš„ç†è§£æ˜¯ä¸ºäº†ç»Ÿä¸€æ­£è´Ÿå·ï¼Œæ–¹ä¾¿å¤„ç†
    // ä¹‹æ‰€ä»¥è½¬ä¸ºè´Ÿæ•°ï¼Œæ˜¯è€ƒè™‘åˆ°äº†Interger.MIN_VALUEæ— æ³•è½¬ä¸ºæ­£æ•°çš„æƒ…å†µ
    if (!negative) {
        i = -i;
    }

    // ç›®æ ‡æ•°è½¬æ¢ä¸ºç”¨åŸºæ•°æ•°å­—è¡¨ç¤º
    while (i <= -radix) {
        buf[charPos--] = digits[-(i % radix)];
        i = i / radix;
    }

    // ç›®æ ‡æ•°å¯ä»¥ç”¨åŸºæ•°æ•°å­—è¡¨ç¤ºï¼Œç›´æ¥ç”¨åŸºæ•°æ•°å­—è¡¨ç¤º
    buf[charPos] = digits[-i];

    // ç›®æ ‡æ•°ä¸ºè´Ÿæ•°çš„ï¼Œå¢åŠ ç¬¦å·ä½
    if (negative) {
        buf[--charPos] = '-';
    }

    return new String(buf, charPos, (33 - charPos));
}
```

##### â­å‚è€ƒæºç çš„å®ç°

```java
// åŸºæ•°æ•°å­—å­—å…¸
private static final char[] digits = {'0', '1', '2', '3', '4', '5', '6'};

public String convertToBase7(int num) {
    // åŸºæ•°
    int radix = 7;

    // è´Ÿæ•°æ ‡ç¤º
    boolean negative = num < 0;

    // intè½¬æ¢ä¸º7è¿›åˆ¶æœ€å¤š12ä½ï¼ŒåŠ ä¸€ä¸ªç¬¦å·ä½ï¼Œæ‰€ä»¥13ä½
    char[] buf = new char[13];

    // å­—ç¬¦ä½ç½®
    int charPos = 12;

    // è½¬æ¢ä¸ºè´Ÿæ•°
    // æˆ‘çš„ç†è§£æ˜¯ç»Ÿä¸€ç¬¦å·ï¼Œæ–¹ä¾¿å¤„ç†
    // ä¹‹æ‰€ä»¥ä¸è½¬ä¸ºæ­£æ•°ï¼Œæ˜¯è€ƒè™‘äº†Integer.MIN_VALUEæ— æ³•è½¬ä¸ºæ­£æ•°çš„æƒ…å½¢
    if (!negative) {
        num = -num;
    }

    // ç›®æ ‡æ•°è½¬ä¸º radisè¿›åˆ¶
    while (num <= (-radix)) {
        buf[charPos--] = digits[-(num % radix)];
        num /= radix;
    }
    // ç›®æ ‡æ•°å¯ä»¥ç”¨åŸºæ•°æ•°å­—è¡¨ç¤ºçš„ï¼Œç›´æ¥ç”¨åŸºæ•°æ•°å­—è¡¨ç¤º
    buf[charPos] = digits[-num];
    if (negative) {
        buf[--charPos] = '-';
    }
    return new String(buf, charPos, (13 - charPos));
}
```

#### [405. æ•°å­—è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°](https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/)

##### â­2 è¿›åˆ¶è½¬ 16 è¿›åˆ¶ï¼Œè¡¥ç è¡¨ç¤ºæ³•ï¼Œå°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„ç›´æ¥è½¬æ¢

- å¦‚æœ num=0ï¼Œåˆ™ç›´æ¥è¿”å› 0 å³å¯ï¼›

- å¦‚æœ num>0ï¼Œåˆ™åœ¨éå†æ¯ä¸€ç»„çš„å€¼æ—¶ï¼Œä»ç¬¬ä¸€ä¸ªä¸æ˜¯ 0 çš„å€¼å¼€å§‹æ‹¼æ¥æˆåå…­è¿›åˆ¶æ•°
- å¦‚æœ num<0ï¼Œåˆ™ç›´æ¥å¼€å§‹æ‹¼æ¥æˆåå…­è¿›åˆ¶æ•°

```java
// 2 è¿›åˆ¶è½¬ 16 è¿›åˆ¶ï¼Œå°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„ç›´æ¥è½¬æ¢
public String toHex(int num) {
    // ç›®æ ‡æ•°ä¸º0çš„ç›´æ¥è¿”å›åŸºæ•°æ•°å­—â€˜0â€™
    if (num == 0) {
        return "0";
    }
    // åŸºæ•°æ•°å­—å­—å…¸
    char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'};
    StringBuilder sb = new StringBuilder();
    // å°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„è½¬æ¢ï¼Œå…±8ç»„
    for (int i = 7; i >= 0; i--) {
        // è·å¾—å½“å‰ç»„çš„å€¼
        int val = num >> (i * 4) & 0xf;
        // æ¶ˆé™¤æ­£æ•°æƒ…å†µä¸‹çš„å‰å¯¼0
        if (sb.length() > 0 || val > 0) {
            sb.append(digits[val]);
        }
    }
    return sb.toString();
}
```

```java
// 2 è¿›åˆ¶è½¬ 16 è¿›åˆ¶ï¼Œå°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„ç›´æ¥è½¬æ¢
public String toHex(int num) {
    // ç›®æ ‡æ•°ä¸º0çš„ç›´æ¥è¿”å›åŸºæ•°æ•°å­—â€˜0â€™
    if (num == 0) {
        return "0";
    }
    // åŸºæ•°æ•°å­—å­—å…¸
    char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'};
    StringBuilder sb = new StringBuilder();
    // å°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„è½¬æ¢ï¼Œå…±8ç»„
    while (num != 0) {
        // å½“å‰ç»„çš„å€¼
        int val = num & 15;
        sb.append(digits[val]);
        // æ— ç¬¦å·å³ç§»æ‰èƒ½ä¿è¯numå˜æˆ0
        num = num >>> 4;
    }
    return sb.reverse().toString();
}
```

```java
// 2 è¿›åˆ¶è½¬ 16 è¿›åˆ¶ï¼Œå°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„ç›´æ¥è½¬æ¢
public String toHex(int num) {
    // ç›®æ ‡æ•°ä¸º0çš„ç›´æ¥è¿”å›åŸºæ•°æ•°å­—â€˜0â€™
    if (num == 0) {
        return "0";
    }
    // åŸºæ•°æ•°å­—å­—å…¸
    char[] digits = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'};
    // 32ä½2è¿›åˆ¶è½¬æ¢æˆ16è¿›åˆ¶æœ€å¤š8ä½ï¼Œè¡¥ç è¡¨ç¤ºæ³•ï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½
    char[] buf = new char[8];
    // å­—ç¬¦ä½ç½®
    int charPos = 0;
    // å°†2è¿›åˆ¶æŒ‰ç…§4ä½ä¸€ç»„è½¬æ¢ï¼Œå…±8ç»„
    for (int i = 7; i >= 0; i--) {
        // è·å¾—å½“å‰ç»„çš„å€¼
        int val = num >> (i * 4) & 0xf;
        // val>0æ˜¯ä¸ºäº†æ¶ˆé™¤æ­£æ•°æƒ…å†µä¸‹çš„å‰å¯¼0
        if (charPos > 0 || val > 0) {
            buf[charPos++] = digits[val];
        }
    }
    return new String(buf, 0, charPos);
}
```

#### [191. ä½1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-1-bits/)

```java
public int hammingWeight(int n) {
    int count = 0;
    for (int i = 31; i >= 0; i--) {
        if ((n & (1 << i)) != 0) {
            count++;
        }
    }
    return count;
}
```

##### â­a & (aâˆ’1) çš„ç»“æœä¸ºå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€åä¸€ä¸ª 1 å˜æˆ 0

```java
public int hammingWeight(int n) {
    int count = 0;
    while (n != 0) {
        n &= n - 1;
        count++;
    }
    return count;
}
```

##### â­é€šè¿‡ **n&1** æ¥ç»Ÿè®¡å½“å‰nçš„æœ€ä½ä½æ˜¯å¦ä¸º1ï¼ŒåŒæ—¶nå³ç§»ï¼Œæœ€é«˜ä½è¡¥0ï¼ˆæ— ç¬¦å·å³ç§»ï¼‰

```java
public int hammingWeight(int n) {
    int count = 0;
    while (n != 0) {
        // æœ€ä½ä½ä¸º1æ—¶count++
        count += (n & 1);
        // æ— ç¬¦å·å³ç§»
        n >>>= 1;
    }
    return count;
}
```

##### â­åˆ†ç»„ç»Ÿè®¡ï¼Œæ¯2ä½å­˜å‚¨

```java
public int hammingWeight(int n) {
    n = ((n & 0xaaaaaaaa) >>> 1) + (n & 0x55555555);//æ¯ä¸¤ä¸ªä¸€ç»„
    n = ((n & 0xcccccccc) >>> 2) + (n & 0x33333333);//æ¯å››ä¸ªä¸€ç»„
    n = ((n & 0xf0f0f0f0) >>> 4) + (n & 0x0f0f0f0f);//æ¯8ä¸ªä¸€ç»„
    n = ((n & 0xff00ff00) >>> 8) + (n & 0x00ff00ff);//æ¯16ä¸ªä¸€ç»„
    n = ((n & 0xffff0000) >>> 16) + (n & 0x0000ffff);//æ¯32ä¸ªä¸€ç»„
    return n;
}
```

```java
public int hammingWeight(int n) {
    n = ((n >>> 1) & 0x55555555) + (n & 0x55555555);//æ¯2ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 2) & 0x33333333) + (n & 0x33333333);//æ¯4ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 4) & 0x0f0f0f0f) + (n & 0x0f0f0f0f);//æ¯8ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 8) & 0x00ff00ff) + (n & 0x00ff00ff);//æ¯16ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 16) & 0x0000ffff) + (n & 0x0000ffff);//æ¯32ä¸ªä¸€ç»„ç»Ÿè®¡
    return n;
}
```

```java
public int hammingWeight(int n) {
    n = ((n >>> 1) & 0x55555555) + (n & 0x55555555);//æ¯2ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 2) & 0x33333333) + (n & 0x33333333);//æ¯4ä¸ªä¸€ç»„ç»Ÿè®¡
    n = ((n >>> 4) & 0x0f0f0f0f) + (n & 0x0f0f0f0f);//æ¯8ä¸ªä¸€ç»„ç»Ÿè®¡
    n = (n >>> 8) + n;
    n = (n >>> 16) + n;
    return n & 63;
}
```

#### [190. é¢ å€’äºŒè¿›åˆ¶ä½](https://leetcode-cn.com/problems/reverse-bits/)

##### â­ä½è¿ç®—ï¼Œnçš„ç¬¬ 32-i ä½ä¸º1æ—¶ï¼Œtargetçš„ç¬¬ i-1ä½ä¸º1

```java
public int reverseBits(int n) {
    if (n == 0) {
        return 0;
    }
    int target = 0;
    int i = 1;
    while (n != 0) {
        // nçš„ç¬¬ï¼ˆ32-iï¼‰ä½ä¸º1æ—¶ï¼Œtargetçš„ç¬¬ï¼ˆi-1ï¼‰ä½ä¸º1
        target |= ((n & (1 << (32 - i))) != 0 ? 1 << (i - 1) : 0);
        // å°†nçš„ç¬¬ï¼ˆ32-iï¼‰ä½ç½®ä¸º0
        n = n & (-1 ^ (1 << (32 - i)));
        i++;
    }
    return target;
}
```

```java
public int reverseBits(int n) {
    if (n == 0) {
        return 0;
    }
    int target = 0;
    for (int i = 0; i < 32; i++) {
        target |= (n & (1 << (31 - i))) != 0 ? 1 << i : 0;
    }
    return target;
}
```

```java
public int reverseBits(int n) {
    if (n == 0) {
        return 0;
    }
    long target = 0;
    int[] buf = new int[32];
    for (int i = 0; i < 32; i++) {
        buf[i] = (n & (1 << i)) != 0 ? 1 : 0;
    }
    for (int i = 31; i >= 0; i--) {
        if (buf[i] == 1) {
            target += (long) Math.pow(2, 31 - i);
        }
    }
    return (int)target;
}
```

##### â­åˆ†ç»„äº¤æ¢

```java
// åˆ†ç»„äº¤æ¢
public int reverseBits(int n) {
    n = ((n & 0xaaaaaaaa) >>> 1) | ((n & 0x55555555) << 1);// ä¸¤ä½äº’æ¢
    n = ((n & 0xcccccccc) >>> 2) | ((n & 0x33333333) << 2);// 4ä½äº’æ¢
    n = ((n & 0xf0f0f0f0) >>> 4) | ((n & 0x0f0f0f0f) << 4);// 8ä½äº’æ¢
    n = ((n & 0xff00ff00) >>> 8) | ((n & 0x00ff00ff) << 8);// 16ä½äº’æ¢
    n = ((n & 0xffff0000) >>> 16) | ((n & 0x0000ffff) << 16);// 32ä½äº’æ¢
    return n;
}
```

#### [371. ä¸¤æ•´æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-two-integers/)

##### â­ä½è¿ç®—

åŠ æ³•çš„ç»“æœåˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯è¿›ä½éƒ¨åˆ†å’Œéè¿›ä½éƒ¨åˆ†ã€‚

- è¿›ä½éƒ¨åˆ†ï¼šåªæœ‰å½“ä¸¤ä¸ªæ•°éƒ½æ˜¯ 1 æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿè¿›ä½ï¼Œè¿›ä½éƒ¨åˆ†çš„å€¼æ˜¯ 10ï¼Œå› æ­¤è¿›ä½éƒ¨åˆ†å¯ä»¥çœ‹æˆæ˜¯ä¸¤ä¸ªæ•°çš„æŒ‰ä½ä¸çš„ç»“æœå·¦ç§»ä¸€ä½ã€‚


- éè¿›ä½éƒ¨åˆ†ï¼šå½“ä¸¤ä¸ªæ•°ç›¸åŒæ—¶éè¿›ä½éƒ¨åˆ†çš„å€¼æ˜¯ 0ï¼Œå½“ä¸¤ä¸ªæ•°ä¸åŒæ—¶éè¿›ä½éƒ¨åˆ†çš„å€¼æ˜¯ 1ï¼Œå› æ­¤éè¿›ä½éƒ¨åˆ†å¯ä»¥çœ‹æˆæ˜¯ä¸¤ä¸ªæ•°çš„æŒ‰ä½å¼‚æˆ–çš„ç»“æœã€‚


ä¸Šè¿°ç»“è®ºå¯ä»¥æ¨å¹¿åˆ°å¤šä½æ•°åŠ æ³•çš„æƒ…å†µã€‚è®¡ç®— a+b å¯ä»¥è½¬æ¢æˆï¼šä»¤ c=(a & b)<<1ï¼Œd=(aâŠ•b)ï¼Œåˆ™ c æ˜¯ a+b çš„è¿›ä½éƒ¨åˆ†ï¼Œd æ˜¯ a+b çš„éè¿›ä½éƒ¨åˆ†ï¼Œå› æ­¤ c+d å’Œ a+b çš„å€¼ç›¸ç­‰ï¼Œa+b å¯ä»¥è½¬æ¢æˆ c+dã€‚

è™½ç„¶ a+b å¯ä»¥è½¬æ¢æˆ c+dï¼Œä½†æ˜¯å¦‚æœç›´æ¥è®¡ç®— c+dï¼Œä»ç„¶ç”¨äº†åŠ å·ã€‚ä¸ºäº†é¿å…ä½¿ç”¨åŠ å·ï¼Œéœ€è¦å°† c å’Œ d çš„å€¼åˆ†åˆ«èµ‹ç»™ a å’Œ bï¼Œç„¶åé‡å¤è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œç›´åˆ° a å˜æˆ 0 æ—¶ï¼ˆå³è¿›ä½éƒ¨åˆ†ä¸º 0ï¼‰ï¼Œb çš„å€¼å³ä¸ºæ‰€è¦æ±‚çš„å’Œã€‚

```java
public int getSum(int a, int b) {
    while (a != 0) {
        int temp = a ^ b;//a+bçš„éè¿›ä½éƒ¨åˆ†
        a = (a & b) << 1;//a+bçš„è¿›ä½éƒ¨åˆ†
        b = temp;
    }
    return b;
}
```

```java
public int getSum(int a, int b) {
    return a == 0 ? b : getSum((a & b) << 1, a ^ b);
}
```

#### [89. æ ¼é›·ç¼–ç ](https://leetcode-cn.com/problems/gray-code/)ğŸ¥²ä¸ä¼šå†™ï¼Œå…ˆç©ºç€å§

#### [201. æ•°å­—èŒƒå›´æŒ‰ä½ä¸](https://leetcode-cn.com/problems/bitwise-and-of-numbers-range/)

```java
// è¶…æ—¶
public int rangeBitwiseAnd(int left, int right) {
    for (int i = left + 1; i <= right; i++) {
        left &= i;
    }
    return left;
}
```

##### â­æ‰¾è§„å¾‹

```java
// æ‰¾è§„å¾‹ï¼Œå°†é—®é¢˜è½¬æ¢ä¸ºæ±‚æ‰€ç»™ä¸¤ä¸ªæ•°å­—çš„å…¬å…±å‰ç¼€
public int rangeBitwiseAnd(int left, int right) {
    int n = 0;
    while (left != right) {
        left >>= 1;
        right >>= 1;
        n++;
    }
    return left << n;
}
```

#### [338. æ¯”ç‰¹ä½è®¡æ•°](https://leetcode-cn.com/problems/counting-bits/)

```java
// æœ´ç´ è§£æ³•
public int[] countBits(int n) {
    int[] res = new int[n + 1];
    for (int i = 0; i <= n; i++) {
        res[i] = counts(i);
    }
    return res;
}

private int counts(int num) {
    num = ((num >>> 1) & 0x55555555) + (num & 0x55555555);
    num = ((num >>> 2) & 0x33333333) + (num & 0x33333333);
    num = ((num >>> 4) & 0x0f0f0f0f) + (num & 0x0f0f0f0f);
    num += num >>> 8;
    num += num >>> 16;
    return num & 63;
}
```

##### â­åŠ¨æ€è§„åˆ’è§£æ³•å¾…è¡¥å……

#### [136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode-cn.com/problems/single-number/)

```java
// ä½è¿ç®—æ€§è´¨ï¼ša^a^b = b
public int singleNumber(int[] nums) {
    int target = nums[0];
    for (int i = 1; i < nums.length; i++) {
        target ^= nums[i];
    }
    return target;
}
```

```java
public int singleNumber(int[] nums) {
    Set<Integer> set = new HashSet<>();
    for (int n : nums) {
        if (set.contains(n)) {
            set.remove(n);
        } else {
            set.add(n);
        }
    }
    return set.iterator().next();
}
```

```java
// èœé¸Ÿè§£æ³•
public int singleNumber(int[] nums) {
    Map<Integer, Integer> map = new HashMap<>();
    int target = 0;
    for (int num : nums) {
        map.put(num, map.getOrDefault(num, 0) + 1);
    }
    for (int key : map.keySet()) {
        if (map.get(key) == 1) {
            target = key;
            break;
        }
    }
    return target;
}
```

```java
public int singleNumber(int[] nums) {
    Set<Integer> set1 = new HashSet<>();
    Set<Integer> set2 = new HashSet<>();
    for (int num : nums) {
        if (!set1.add(num)) {
            set2.add(num);
        }
    }
    for (int num : nums) {
        if (!set2.contains(num)) {
            return num;
        }
    }
    return 0;
}
```

#### [137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II](https://leetcode-cn.com/problems/single-number-ii/)

```java
// a&a^a=0
public int singleNumber(int[] nums) {
    Arrays.sort(nums);
    for (int i = 0; i < nums.length - 2; i += 3) {
        if ((nums[i] & nums[i + 1] ^ nums[i + 2]) != 0) {
            return nums[i];
        }
    }
    return nums[nums.length - 1];
}
```

##### â­ä½æ•°ç»Ÿè®¡

```java
// å¯¹äºå‡ºç°3æ¬¡çš„æ•°å­—ï¼Œå…¶äºŒè¿›åˆ¶å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯3çš„å€æ•°
// ç»Ÿè®¡æ‰€æœ‰æ•°å­—äºŒè¿›åˆ¶1å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶å¯¹3æ±‚ä½™ï¼Œç»“æœåˆ™ä¸ºå‡ºç°ä¸€æ¬¡çš„æ•°å­—
public int singleNumber(int[] nums) {
    int[] buf = new int[32];
    for (int num : nums) {
        for (int i = 0; i < 32 & num != 0; i++) {
            buf[i] += (num & (1 << i)) != 0 ? 1 : 0;
            num ^= 1 << i;
        }
    }
    int res = 0;
    for (int i = 0; i < 32; i++) {
        if (buf[i] % 3 == 1) {
            res |= 1 << i;
        }
    }
    return res;
}
```

##### ğŸ¥²DFA,ä¸ä¼šæ²¡äº‹ï¼Œæ­»è®°ç¡¬èƒŒå°±å®Œäº‹äº†

[å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/single-number-ii/solution/zhi-chu-xian-yi-ci-de-shu-zi-ii-by-leetc-23t6/)

```java
// DFA
public int singleNumber(int[] nums) {
    int one = 0, two = 0;
    for (int num : nums) {
        one = one ^ num & ~two;
        two = two ^ num & ~one;
    }
    return one;
}
```

#### [260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III](https://leetcode-cn.com/problems/single-number-iii/)

```java
// å“ˆå¸Œé›†
public int[] singleNumber(int[] nums) {
    Set<Integer> set = new HashSet<>();
    for (int num : nums) {
        if (!set.add(num)) {
            set.remove(num);
        }
    }
    Iterator<Integer> iterator = set.iterator();
    return new int[]{iterator.next(), iterator.next()};
}
```

##### â­a&(-a) å¾—åˆ°çš„ç»“æœ åªä¿ç•™äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€åä¸€ä¸ª1ï¼Œå…¶ä½™1å˜æˆ0

```java
// å‰ç½®çŸ¥è¯†ï¼ša^a = 0; a^a^b = b;
// å…ˆå°†æ•°ç»„ä¸­å…ƒç´ å¼‚æˆ–ä¸€éï¼Œå¾—åˆ°çš„å€¼ä¸€å®šæ˜¯ a^b,ä¸”ç”±äºa!=b,æ‰€ä»¥a^bä¸€å®šä¸ä¸º0
// ä»»æ„æ‰¾å‡º a^b çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ä¸€ä¸ª1ï¼Œå¯¹å¦ä¸€ä¸ªæ•°æ¥è¯´ï¼Œè¯¥ä½å¿…ä¸º0ï¼Œåˆ©ç”¨æ­¤ç‰¹ç‚¹å¼‚æˆ–ä¸€éæ•°ç»„ï¼Œå¿…èƒ½å¾—åˆ°ç­”æ¡ˆ
// a&(-a) å¾—åˆ°çš„ç»“æœ åªä¿ç•™äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€åä¸€ä¸ª1ï¼Œå…¶ä½™1å˜æˆ0
public int[] singleNumber(int[] nums) {
    int xornum = 0;
    // è·å¾— a^b
    for (int num : nums) {
        xornum ^= num;
    }
    // é˜²æ­¢æº¢å‡º
    int k = xornum == Integer.MIN_VALUE ? xornum : xornum & (-xornum);
    int a = 0, b = 0;
    for (int num : nums) {
        if ((num & k) != 0) {
            a ^= num;
        } else {
            b ^= num;
        }
    }
    return new int[]{a, b};
}
```

#### [1349. å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°](https://leetcode-cn.com/problems/maximum-students-taking-exam/)