## 哈希函数

### 题目一

现有40亿个无符号整数（4字节）的文件，只给1G内存，要求得到出现频率前十的整数。

**经典方法**

用哈希表存储 无符号整数和其出现的次数：

在最差情况下需要 40亿*8字节 = 320亿 字节 ≈ 32G内存

**哈希函数方法**

思路：

1. 1G内存最多可以存放 10亿➗8 ≈ 1亿条记录
2. （这一步并不占用内存）利用哈希函数把每个无符号整数出现的次数统计到 100个文件中 （0 到 99）
   - 统计到 100个文件中：将无符号整数用哈希函数计算出的结果 % 100
   - 由于哈希函数的离散性质（均匀分布），每个文件差不多都有 $k/100$ 种记录（假设共有 k 种 无符号整数）
   - 由于哈希函数的确定性，相同的无符号整数一定能存入相同的文件
3. （这一步最多占用1G内存）将100个文件 （0 到 99）逐个读取到内存，计算出频率前十的 无符号整数，存入文件
4. 将 100个文件 （0 到 99）中的 top10 合并（共1000条记录），求出 频率前十的整数，就是答案